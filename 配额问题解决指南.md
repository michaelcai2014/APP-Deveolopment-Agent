# OpenAI API 配额问题解决指南

## ❌ 错误提示

如果看到以下错误：
```
You exceeded your current quota, please check your plan and billing details.
```

这表示你的 OpenAI 账户配额已用完。

## 🔧 解决方案

### 方案 1：检查账户余额（推荐）

1. **访问 OpenAI 账户页面**
   - 打开：https://platform.openai.com/account/billing
   - 登录你的 OpenAI 账户

2. **检查余额**
   - 查看账户余额是否充足
   - 如果余额不足，需要充值

3. **添加支付方式**
   - 在计费页面添加信用卡或其他支付方式
   - 设置自动充值（可选）

### 方案 2：检查使用限制

1. **查看使用限制**
   - 访问：https://platform.openai.com/account/limits
   - 检查是否有速率限制（Rate Limits）
   - 检查是否有使用配额限制

2. **升级账户计划**
   - 如果是免费账户，可能需要升级到付费计划
   - 付费账户通常有更高的配额

### 方案 3：使用其他 API Key

如果你有其他可用的 API Key：

1. **更新 .env.local 文件**
   ```bash
   cd app-mvp-estimator
   # 编辑 .env.local，替换为新的 API Key
   OPENAI_API_KEY=sk-your-new-api-key-here
   ```

2. **重启开发服务器**
   ```bash
   # 停止当前服务器（Ctrl+C）
   # 重新启动
   npm run dev
   ```

## 📊 查看使用情况

访问以下页面查看 API 使用情况：
- **使用统计**：https://platform.openai.com/usage
- **计费历史**：https://platform.openai.com/account/billing/history

## 💡 节省费用的建议

1. **使用更经济的模型**
   - 当前使用：`gpt-4o-mini`（已是最经济的模型之一）
   - 如需更便宜，可考虑 `gpt-3.5-turbo`

2. **减少 max_tokens**
   - 当前设置：2000 tokens
   - 可在 `lib/openai.ts` 中调整

3. **设置使用限制**
   - 在 OpenAI 账户中设置每月使用上限
   - 避免意外超支

## 🔄 修改模型配置

如果想使用更便宜的模型，编辑 `lib/openai.ts`：

```typescript
// 第 43 行，修改模型
model: 'gpt-3.5-turbo', // 更便宜的模型
```

## 📞 需要帮助？

- **OpenAI 官方文档**：https://platform.openai.com/docs/guides/error-codes
- **OpenAI 支持**：https://help.openai.com/

